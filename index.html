<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Happy Birthday, Saku!</title>
    <link
      href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;700&family=Playfair+Display:wght@400;700&display=swap"
      rel="stylesheet"
    />
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "Georgia", serif;
        background: linear-gradient(to bottom, #fff8f0 0%, #f5efe6 100%);
        color: #4a4238;
        overflow-x: hidden;
        position: relative;
        min-height: 100vh;
      }

      /* Paper texture overlay */
      body::before {
        content: "";
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-image: repeating-linear-gradient(
          0deg,
          transparent,
          transparent 2px,
          rgba(212, 165, 165, 0.03) 2px,
          rgba(212, 165, 165, 0.03) 4px
        );
        pointer-events: none;
        z-index: 1;
      }

      /* Stars Background */
      /* Floating doodles background */
      .stars {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        pointer-events: none;
        z-index: 1;
      }

      .star {
        position: absolute;
        font-size: 1.5em;
        opacity: 0.15;
        animation: gentleDrift 15s ease-in-out infinite;
      }

      @keyframes gentleDrift {
        0%,
        100% {
          transform: translate(0, 0) rotate(0deg);
          opacity: 0.1;
        }
        50% {
          transform: translate(20px, -30px) rotate(10deg);
          opacity: 0.2;
        }
      }

      /* Floating Artistic Elements */
      .artistic-element {
        position: fixed;
        opacity: 0.2;
        z-index: 2;
        pointer-events: none;
        animation: floatAround 20s infinite ease-in-out;
      }

      @keyframes floatAround {
        0%,
        100% {
          transform: translate(0, 0) rotate(0deg);
        }
        25% {
          transform: translate(30px, -40px) rotate(5deg);
        }
        50% {
          transform: translate(-20px, -80px) rotate(-5deg);
        }
        75% {
          transform: translate(40px, -40px) rotate(3deg);
        }
      }

      .time-travel-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(255, 248, 240, 0.98);
        z-index: 9999;
        display: none;
        justify-content: center;
        align-items: center;
        flex-direction: column;
      }

      @keyframes reverseRotate {
        from {
          transform: rotate(0deg);
        }
        to {
          transform: rotate(-360deg);
        }
      }

      .time-travel-text {
        margin-top: 40px;
        font-size: 1.8em;
        color: #c9b8a8;
        animation: fadeInOut 2s infinite;
      }

      @keyframes fadeInOut {
        0%,
        100% {
          opacity: 0.5;
        }
        50% {
          opacity: 1;
        }
      }

      /* Main Container */
      .page {
        min-height: 100vh; /* Ensure it takes full viewport height */
        display: flex;
        align-items: center; /* Vertically center content */
        justify-content: center;
        padding: 40px 20px;
        position: relative;
        z-index: 3;
        opacity: 0;
        transform: translateX(100px);
        transition: opacity 1s ease, transform 1s ease;
      }

      .page.active {
        opacity: 1;
        transform: translateX(0);
      }

      .page.exit-left {
        animation: slideOutLeft 0.8s ease-out forwards;
      }

      .page.exit-right {
        animation: slideOutRight 0.8s ease-out forwards;
      }

      @keyframes slideOutLeft {
        to {
          opacity: 0;
          transform: translateX(-100px) rotate(-5deg) scale(0.95);
        }
      }

      @keyframes slideOutRight {
        to {
          opacity: 0;
          transform: translateX(100px) rotate(5deg) scale(0.95);
        }
      }

      /* Custom Fonts */
      h1,
      h2,
      .birthday-title,
      .trait-card h3 {
        font-family: "Playfair Display", serif;
      }
      .signature strong {
        font-family: "Dancing Script", cursive;
        font-weight: 700;
      }

      /* Page 1 - Welcome */
      .welcome-content {
        text-align: center;
        max-width: 700px;
      }

      .moon {
        width: 150px;
        height: 150px;
        background: #ffffff;
        border-radius: 50%;
        margin: 0 auto 40px;
        box-shadow: 0 8px 30px rgba(212, 165, 165, 0.3);
        animation: float 3s ease-in-out infinite;
        position: relative;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 5em;
        border: 3px solid #e8dcc8;
      }

      .moon::before {
        content: "‚òÅÔ∏è";
        position: absolute;
      }

      .moon::after {
        display: none;
      }

      @keyframes cuteGlow {
        0%,
        100% {
          box-shadow: 0 0 40px rgba(255, 182, 193, 0.5);
        }
        50% {
          box-shadow: 0 0 60px rgba(255, 192, 203, 0.8);
        }
      }

      @keyframes twinkleRotate {
        from {
          transform: rotate(0deg) translateX(60px) rotate(0deg);
        }
        to {
          transform: rotate(360deg) translateX(60px) rotate(-360deg);
        }
      }

      @keyframes float {
        0%,
        100% {
          transform: translateY(0) rotate(-2deg);
        }
        50% {
          transform: translateY(-25px) rotate(2deg);
        }
      }
      @keyframes moonGlow {
        /* Added moonGlow */
        0%,
        100% {
          box-shadow: 0 0 60px rgba(255, 255, 255, 0.4),
            inset -10px -10px 20px rgba(0, 0, 0, 0.1);
        }
        50% {
          box-shadow: 0 0 80px rgba(255, 255, 255, 0.6),
            inset -12px -12px 25px rgba(0, 0, 0, 0.15);
        }
      }
      @keyframes slowRotate {
        /* Added slowRotate */
        from {
          transform: rotate(0deg);
        }
        to {
          transform: rotate(360deg);
        }
      }

      h1 {
        font-size: 3em;
        margin-bottom: 20px;
        color: #8b6f5c;
        text-shadow: 2px 2px 0px rgba(212, 165, 165, 0.3);
        position: relative;
      }

      h1::after {
        content: "~";
        display: block;
        text-align: center;
        color: #d4a5a5;
        font-size: 0.5em;
        margin-top: 10px;
      }

      p {
        font-size: 1.3em;
        line-height: 1.8;
        color: #6b5e52;
        margin-bottom: 30px;
      }

      .btn {
        background: #d4a5a5;
        color: #ffffff;
        border: 2px solid #c9b8a8;
        padding: 15px 40px;
        font-size: 1.2em;
        border-radius: 25px;
        cursor: pointer;
        transition: all 0.3s ease;
        margin: 10px;
        box-shadow: 0 4px 15px rgba(212, 165, 165, 0.3);
        position: relative;
        overflow: hidden;
      }

      /* Add washi tape effect */
      .btn::before {
        content: "";
        position: absolute;
        top: -2px;
        left: 10%;
        width: 30%;
        height: 6px;
        background: rgba(255, 255, 255, 0.4);
        border-left: 1px dashed rgba(201, 184, 168, 0.5);
        border-right: 1px dashed rgba(201, 184, 168, 0.5);
      }

      .btn:hover {
        transform: translateY(-3px) rotate(-1deg);
        box-shadow: 0 6px 20px rgba(212, 165, 165, 0.4);
        background: #c99595;
      }

      .btn.reject {
        background: #e8b4b4;
        border-color: #d4a5a5;
      }

      .btn.reject:hover {
        background: #d9a5a5;
      }

      /* Timeline Card Layout */
      .timeline-card {
        display: flex;
        align-items: center;
        gap: 40px;
        max-width: 1000px;
        background: rgba(255, 248, 240, 0.8);
        backdrop-filter: blur(10px);
        border: 1px solid rgba(212, 165, 165, 0.3);
        border-radius: 8px;
        padding: 40px;
        box-shadow: 0 10px 40px rgba(0, 0, 0, 0.5);
        margin-bottom: 40px; /* Added for consistent spacing */
        opacity: 0;
        transform: translateY(20px);
        transition: none; /* Remove transition, let animation handle it */
        animation: cardSlideIn 0.8s ease-out forwards;
        animation-play-state: paused; /* Start paused */
      }
      .timeline-card {
        /* keep existing properties */
        background: #ffffff;
        backdrop-filter: none;
        border: 3px solid #e8dcc8;
        border-radius: 15px;
        box-shadow: 0 8px 25px rgba(139, 111, 92, 0.15);
        position: relative;
      }

      /* Add paper edge effect */
      .timeline-card::before {
        content: "";
        position: absolute;
        top: -3px;
        left: 20px;
        width: 60px;
        height: 20px;
        background: rgba(255, 245, 225, 0.8);
        border-left: 2px dashed #e8dcc8;
        border-right: 2px dashed #e8dcc8;
        transform: rotate(-2deg);
      }
      @keyframes cardSlideIn {
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      .timeline-card.show {
        animation-play-state: running;
      }

      .timeline-card.reverse {
        flex-direction: row-reverse;
      }
      .timeline-card:hover {
        animation: cardWobble 0.5s ease;
      }

      @keyframes cardWobble {
        0%,
        100% {
          transform: translateY(0) rotate(0deg);
        }
        25% {
          transform: translateY(-5px) rotate(1deg);
        }
        75% {
          transform: translateY(-5px) rotate(-1deg);
        }
      }

      .card-photo {
        flex-shrink: 0;
        width: 300px;
        height: 300px;
        background: #faf7f2;
        border: 4px solid #e8dcc8;
        border-radius: 8px;
        box-shadow: 0 6px 20px rgba(139, 111, 92, 0.2);
        position: relative;
      }

      /* Polaroid-style bottom caption area */
      .card-photo::after {
        content: "";
        position: absolute;
        bottom: 0;
        left: 0;
        right: 0;
        /* height: 60px; */
        background: #ffffff;
        border-top: 2px solid #e8dcc8;
      }

      .card-photo .icon {
        font-size: 3em;
        position: absolute;
        color: #d4a5a5;
        z-index: 1;
      }

      .card-photo span:not(.icon) {
        position: relative;
        z-index: 1;
        color: #6b5e52;
      }

      .card-content {
        flex: 1;
      }

      .year-badge {
        display: inline-block;
        background: #f4c2c2;
        color: #8b6f5c;
        padding: 8px 20px;
        border-radius: 20px;
        font-size: 0.9em;
        margin-bottom: 15px;
        font-weight: bold;
        border: 2px dashed #d4a5a5;
        box-shadow: 0 2px 8px rgba(212, 165, 165, 0.2);
      }

      .card-content h2 {
        font-size: 2em;
        color: #8b6f5c;
        margin-bottom: 15px;
        position: relative;
        display: inline-block;
      }

      .card-content h2::after {
        content: "";
        position: absolute;
        bottom: -5px;
        left: 0;
        width: 100%;
        height: 3px;
        background: linear-gradient(to right, #d4a5a5, transparent);
      }

      .card-content p {
        font-size: 1.2em;
        line-height: 1.8;
      }

      /* Choice Buttons */
      .choice-section {
        text-align: center;
        margin-top: 40px;
      }

      .choice-buttons {
        display: flex;
        gap: 20px;
        justify-content: center;
        margin-top: 30px;
      }

      /* Reject Scene */
      .reject-scene {
        text-align: center;
        max-width: 700px;
      }

      .sad-image {
        width: 400px;
        height: 400px;
        background: rgba(0, 0, 0, 0.5);
        border: 2px solid rgba(201, 184, 168, 0.4);
        border-radius: 8px;
        margin: 30px auto;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 5em;
        animation: shake 0.5s infinite, sadPulse 1.5s infinite alternate; /* Added sadPulse */
      }

      @keyframes shake {
        0%,
        100% {
          transform: translateX(0);
        }
        25% {
          transform: translateX(-10px);
        }
        75% {
          transform: translateX(10px);
        }
      }
      @keyframes sadPulse {
        /* Added sadPulse */
        0%,
        100% {
          opacity: 0.7;
          transform: scale(1);
        }
        50% {
          opacity: 1;
          transform: scale(1.05);
        }
      }

      /* Page 4 - Magazine Layout */
      /* Page 4 - Soft Scrapbook Layout */
      .magazine-layout {
        display: flex;
        flex-direction: column;
        gap: 60px;
      }

      .magazine-row {
        display: flex;
        gap: 40px;
        align-items: center;
      }

      .magazine-row.reverse {
        flex-direction: row-reverse;
      }

      .magazine-row.centered {
        justify-content: center;
        align-items: stretch;
      }

      .traits-column {
        display: flex;
        flex-direction: column;
        gap: 30px;
        flex: 1;
      }

      .magazine-photo {
        position: relative;
        background: linear-gradient(
          135deg,
          rgba(255, 229, 236, 0.1),
          rgba(255, 200, 221, 0.1)
        );
        border: 3px dashed rgba(255, 181, 232, 0.4);
        border-radius: 20px;
        overflow: visible;
        box-shadow: 0 8px 25px rgba(255, 181, 232, 0.2);
        transition: transform 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);
        transform-origin: center;
      }

      .magazine-photo:hover {
        transform: rotate(2deg) scale(1.03);
      }

      .magazine-photo.large {
        width: 500px;
        height: 500px;
        flex-shrink: 0;
      }

      .magazine-photo.medium {
        width: 400px;
        height: 400px;
        flex-shrink: 0;
      }

      .magazine-photo.featured {
        width: 450px;
        height: 450px;
        flex-shrink: 0;
        border: 4px solid rgba(255, 181, 232, 0.5);
        box-shadow: 0 12px 40px rgba(255, 181, 232, 0.3);
        animation: gentleBob 3s ease-in-out infinite;
      }

      @keyframes gentleBob {
        0%,
        100% {
          transform: translateY(0) rotate(-1deg);
        }
        50% {
          transform: translateY(-10px) rotate(1deg);
        }
      }

      .photo-frame {
        width: 100%;
        height: 100%;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        gap: 15px;
        font-size: 1.1em;
        color: rgba(255, 255, 255, 0.7);
      }

      .photo-frame .icon {
        font-size: 4em;
        animation: iconFloat 2s ease-in-out infinite;
      }

      @keyframes iconFloat {
        0%,
        100% {
          transform: translateY(0) rotate(-5deg);
        }
        50% {
          transform: translateY(-8px) rotate(5deg);
        }
      }

      /* Soft Trait Cards */
      .trait-card {
        background: linear-gradient(
          135deg,
          rgba(255, 229, 236, 0.08),
          rgba(229, 212, 255, 0.08)
        );
        border: 2px solid rgba(255, 181, 232, 0.2);
        border-radius: 25px;
        padding: 30px;
        box-shadow: 0 5px 20px rgba(180, 167, 214, 0.15);
        text-align: center;
        transition: all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
        position: relative;
        overflow: hidden;
      }

      .trait-card:hover {
        transform: translateY(-8px) rotate(-1deg);
        box-shadow: 0 12px 35px rgba(255, 181, 232, 0.25);
        border-color: rgba(255, 181, 232, 0.5);
      }

      .trait-card.compact {
        padding: 25px;
        flex: 1;
      }

      .trait-card.side-trait {
        max-width: 280px;
      }

      .trait-icon {
        font-size: 3em;
        margin-bottom: 15px;
        display: inline-block;
        animation: cuteWiggle 2.5s ease-in-out infinite;
      }

      @keyframes cuteWiggle {
        0%,
        100% {
          transform: rotate(0deg) scale(1);
        }
        25% {
          transform: rotate(-10deg) scale(1.1);
        }
        75% {
          transform: rotate(10deg) scale(1.1);
        }
      }

      .trait-card:hover .trait-icon {
        animation: cuteJump 0.6s ease;
      }

      @keyframes cuteJump {
        0%,
        100% {
          transform: translateY(0) rotate(0deg);
        }
        50% {
          transform: translateY(-15px) rotate(360deg);
        }
      }

      .trait-card h3 {
        font-family: "Playfair Display", serif;
        font-size: 1.6em;
        color: #d4a5a5;
        margin-bottom: 12px;
        text-shadow: 0 2px 10px rgba(255, 181, 232, 0.3);
      }

      .trait-card p {
        font-size: 1.05em;
        line-height: 1.7;
        color: #8b7e74;
      }

      /* Responsive adjustments */
      @media (max-width: 1024px) {
        .magazine-row {
          flex-direction: column !important;
        }

        .magazine-photo.large,
        .magazine-photo.medium,
        .magazine-photo.featured {
          width: 100%;
          max-width: 400px;
          height: 400px;
          margin: 0 auto;
        }

        .trait-card.side-trait {
          max-width: 100%;
        }
      }

      /* Polaroid Scatter Layout with Center Photo */
      .polaroid-container {
        position: relative;
        width: 100%;
        max-width: 1000px;
        height: 700px;
        margin: 40px auto;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .center-photo {
        width: 350px;
        height: 350px;
        background: #ffffff;
        border: 5px solid #d4a5a5;
        border-radius: 8px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 1.2em;
        color: #6b5e52;
        box-shadow: 0 15px 40px rgba(139, 111, 92, 0.3);
        position: relative;
        z-index: 10;
        overflow: hidden;
      }

      @keyframes pulseGlow {
        from {
          box-shadow: 0 20px 60px rgba(0, 0, 0, 0.8),
            0 0 40px rgba(107, 140, 255, 0.3);
        }
        to {
          box-shadow: 0 25px 70px rgba(0, 0, 0, 0.9),
            0 0 55px rgba(107, 140, 255, 0.5);
        }
      }

      .center-photo .icon {
        /* Changed from ::after to .icon */
        font-size: 2em;
        position: absolute;
      }

      .polaroid {
        position: absolute;
        width: 180px;
        background: #ffffff;
        padding: 12px;
        padding-bottom: 45px;
        box-shadow: 0 8px 20px rgba(139, 111, 92, 0.25);
        border: 1px solid #e8dcc8;
        transition: transform 0.3s ease, z-index 0.3s;
      }

      .polaroid:hover {
        box-shadow: 0 12px 30px rgba(139, 111, 92, 0.35);
      }

      .polaroid-photo {
        background: #faf7f2;
        border: 1px solid #e8dcc8;
      }

      .polaroid-caption {
        color: #6b5e52;
        font-family: "Courier New", monospace;
      }

      @keyframes polaroidFadeIn {
        to {
          opacity: 1;
          transform: scale(1) translateY(0) rotate(var(--final-rotation, 0deg));
        }
      }

      .polaroid:hover {
        transform: scale(1.15) rotate(var(--final-rotation, 0deg)) !important; /* Preserve existing rotation */
        z-index: 100;
      }

      /* Birthday Page - Enhanced */
      /* ===== PAGE 6: BIRTHDAY CARD ===== */

      .birthday-card-scene {
        width: 100%;
        max-width: 1400px;
        min-height: 100vh;
        display: flex;
        align-items: center;
        justify-content: center;
        position: relative;
        padding: 40px 20px;
      }

      /* ===== ENVELOPE ===== */
      .envelope-wrapper {
        position: relative;
        transition: opacity 0.5s ease, transform 0.5s ease;
      }

      .envelope-wrapper.hide {
        opacity: 0;
        transform: scale(0.8);
        pointer-events: none;
      }

      .envelope-3d {
        width: 400px;
        height: 280px;
        position: relative;
        cursor: pointer;
        transition: transform 0.3s ease;
        perspective: 1000px;
      }

      .envelope-3d:hover {
        transform: translateY(-10px) rotate(-2deg);
      }

      .envelope-body {
        width: 100%;
        height: 100%;
        background: linear-gradient(135deg, #f4c2c2, #e5b8b8);
        border: 3px solid #d4a5a5;
        border-radius: 8px;
        box-shadow: 0 15px 40px rgba(139, 111, 92, 0.3);
        position: relative;
      }

      .envelope-body::before {
        content: "";
        position: absolute;
        top: 10px;
        left: 10px;
        right: 10px;
        bottom: 10px;
        border: 2px dashed rgba(255, 255, 255, 0.5);
        border-radius: 5px;
      }

      .envelope-flap {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 50%;
        background: linear-gradient(135deg, #e5b8b8, #d4a5a5);
        border: 3px solid #d4a5a5;
        border-bottom: none;
        border-top-left-radius: 8px;
        border-top-right-radius: 8px;
        clip-path: polygon(0 0, 100% 0, 50% 100%);
        transform-origin: top center;
        transition: transform 1s ease;
        z-index: 10;
        box-shadow: 0 10px 30px rgba(139, 111, 92, 0.4);
      }

      .envelope-flap.open {
        transform: rotateX(180deg);
      }

      .wax-seal {
        position: absolute;
        bottom: -30px;
        left: 50%;
        transform: translateX(-50%);
        width: 60px;
        height: 60px;
        background: radial-gradient(circle, #ffe5d9, #f4c2c2);
        border-radius: 50%;
        border: 3px solid #d4a5a5;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 2em;
        box-shadow: 0 5px 15px rgba(212, 165, 165, 0.5);
        animation: sealGlow 2s ease-in-out infinite;
      }

      @keyframes sealGlow {
        0%,
        100% {
          box-shadow: 0 5px 15px rgba(212, 165, 165, 0.5);
        }
        50% {
          box-shadow: 0 5px 25px rgba(212, 165, 165, 0.8);
        }
      }

      .envelope-label {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        text-align: center;
        z-index: 5;
      }

      .stamp {
        position: absolute;
        top: 20px;
        right: 20px;
        width: 50px;
        height: 50px;
        background: rgba(255, 255, 255, 0.3);
        border: 2px dashed #d4a5a5;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 1.5em;
        transform: rotate(15deg);
      }

      .postmark {
        position: absolute;
        top: 25px;
        left: 20px;
        width: 70px;
        height: 70px;
        border: 3px solid rgba(139, 111, 92, 0.4);
        border-radius: 50%;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        color: #8b6f5c;
        font-weight: bold;
        transform: rotate(-10deg);
      }

      .click-prompt {
        position: absolute;
        bottom: -60px;
        left: 50%;
        transform: translateX(-50%);
        text-align: center;
      }

      .prompt-text {
        font-size: 1.2em;
        color: #d4a5a5;
        font-weight: bold;
        animation: bounce 1s ease-in-out infinite;
      }

      @keyframes bounce {
        0%,
        100% {
          transform: translateY(0);
        }
        50% {
          transform: translateY(-10px);
        }
      }

      /* ===== BIRTHDAY CARD ===== */
      .birthday-card-container {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%) scale(0);
        opacity: 0;
        transition: all 1.5s cubic-bezier(0.34, 1.56, 0.64, 1);
      }

      .birthday-card-container.show {
        transform: translate(-50%, -50%) scale(1);
        opacity: 1;
      }

      .card-3d {
        width: 1200px;
        height: 700px;
        display: flex;
        position: relative;
        box-shadow: 0 20px 60px rgba(139, 111, 92, 0.4);
        border-radius: 12px;
        overflow: hidden;
      }

      .card-page {
        width: 50%;
        height: 100%;
        background: #fff8f0;
        padding: 50px 40px;
        position: relative;
        overflow-y: auto;
        border: 4px solid #e8dcc8;
      }

      .card-left {
        border-right: 2px solid #e8dcc8;
        border-top-left-radius: 12px;
        border-bottom-left-radius: 12px;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: space-around;
      }

      .card-right {
        border-left: 2px solid #e8dcc8;
        border-top-right-radius: 12px;
        border-bottom-right-radius: 12px;
        overflow-y: auto;
      }

      .card-spine {
        position: absolute;
        width: 8px;
        height: 100%;
        left: 50%;
        transform: translateX(-50%);
        background: linear-gradient(to right, #c9b8a8, #e8dcc8, #c9b8a8);
        z-index: 100;
        box-shadow: 0 0 10px rgba(139, 111, 92, 0.3);
      }

      /* Card Decorations */
      .card-decoration {
        position: absolute;
        font-size: 1.5em;
        opacity: 0;
        animation: decorFadeIn 0.5s ease forwards;
      }

      .card-decoration.top-left-corner {
        top: 15px;
        left: 15px;
        animation-delay: 0.2s;
      }
      .card-decoration.top-right-corner {
        top: 15px;
        right: 15px;
        animation-delay: 0.4s;
      }
      .card-decoration.bottom-left-corner {
        bottom: 15px;
        left: 15px;
        animation-delay: 0.6s;
      }
      .card-decoration.bottom-right-corner {
        bottom: 15px;
        right: 15px;
        animation-delay: 0.8s;
      }

      @keyframes decorFadeIn {
        from {
          opacity: 0;
          transform: scale(0) rotate(-180deg);
        }
        to {
          opacity: 1;
          transform: scale(1) rotate(0deg);
        }
      }

      /* Left Page Content */
.card-photo-frame {
    width: 280px;
    height: 420px; /* Changed from 280px to accommodate portrait */
    background: #FFFFFF;
    border: 4px solid #E8DCC8;
    border-radius: 8px;
    box-shadow: 0 8px 20px rgba(139, 111, 92, 0.2);
    position: relative;
    margin: 20px 0; /* Reduced margin */
    overflow: hidden; /* Prevent overflow */
}
.photo-placeholder {
    width: 100%;
    height: 100%;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    gap: 15px;
    color: #C9B8A8;
    overflow: hidden;
    position: relative;
}

.photo-placeholder img {
    width: 100%;
    height: 100%;
    object-fit: cover; /* Crops to fit frame nicely */
    object-position: center; /* Centers the important part */
}

      .photo-placeholder .icon {
        font-size: 4em;
        color: #d4a5a5;
      }

      .photo-tape {
        position: absolute;
        top: -8px;
        left: 50%;
        transform: translateX(-50%);
        width: 100px;
        height: 25px;
        background: rgba(255, 245, 225, 0.7);
        border-left: 2px dashed rgba(201, 184, 168, 0.5);
        border-right: 2px dashed rgba(201, 184, 168, 0.5);
        backdrop-filter: blur(2px);
      }

      .left-message {
        text-align: center;
        padding: 20px;
      }

      .doodle-hearts {
        margin-top: 20px;
        display: flex;
        gap: 30px;
        justify-content: center;
      }

      .floating-doodle {
        font-size: 2em;
        display: inline-block;
        animation: floatDoodle 2s ease-in-out infinite;
      }

      @keyframes floatDoodle {
        0%,
        100% {
          transform: translateY(0) rotate(0deg);
        }
        50% {
          transform: translateY(-15px) rotate(10deg);
        }
      }

      /* Right Page Content */
      .card-content-scroll {
        height: 100%;
        overflow-y: auto;
        padding-right: 10px;
      }

      .card-content-scroll::-webkit-scrollbar {
        width: 8px;
      }

      .card-content-scroll::-webkit-scrollbar-track {
        background: rgba(232, 220, 200, 0.3);
        border-radius: 4px;
      }

      .card-content-scroll::-webkit-scrollbar-thumb {
        background: #d4a5a5;
        border-radius: 4px;
      }

      .message-text {
        margin: 30px 0;
      }

      .message-text p {
        font-size: 1.15em;
        line-height: 1.9;
        color: #6b5e52;
        margin-bottom: 25px;
        text-align: justify;
      }

      .signature {
        margin-top: 50px;
        padding-top: 30px;
        border-top: 2px dashed #e8dcc8;
        text-align: center;
      }

      .signature p {
        font-size: 1.1em;
        color: #8b6f5c;
        font-style: italic;
        margin-bottom: 10px;
      }

      .signature strong {
        font-family: "Dancing Script", cursive;
        font-size: 1.8em;
        color: #d4a5a5;
        display: flex;
        justify-content: center;
        margin-top: 10px;
      }

      .signature-doodles {
        margin-top: 15px;
        display: flex;
        gap: 20px;
        justify-content: center;
        font-size: 1.5em;
      }

      .signature-doodles span {
        display: inline-block;
        animation: wiggleDoodle 1.5s ease-in-out infinite;
      }

      .signature-doodles span:nth-child(1) {
        animation-delay: 0s;
      }
      .signature-doodles span:nth-child(2) {
        animation-delay: 0.3s;
      }
      .signature-doodles span:nth-child(3) {
        animation-delay: 0.6s;
      }

      @keyframes wiggleDoodle {
        0%,
        100% {
          transform: rotate(0deg) scale(1);
        }
        25% {
          transform: rotate(-15deg) scale(1.1);
        }
        75% {
          transform: rotate(15deg) scale(1.1);
        }
      }

      /* Music Player Inside Card */
      .music-player {
        margin-top: 40px;
        padding: 25px;
        background: rgba(244, 194, 194, 0.2);
        border: 2px dashed #d4a5a5;
        border-radius: 15px;
        text-align: center;
      }

      .music-player p {
        font-size: 1.1em;
        color: #8b6f5c;
        margin-bottom: 15px;
      }

      audio {
        width: 100%;
        max-width: 450px;
        border-radius: 8px;
        filter: sepia(20%) saturate(80%);
      }

      /* Scattered Doodles */
      .scattered-doodles {
        position: absolute;
        width: 100%;
        height: 100%;
        top: 0;
        left: 0;
        pointer-events: none;
        opacity: 0;
        transition: opacity 1s ease 1.5s;
      }

      .scattered-doodles.show {
        opacity: 1;
      }

      .scatter-item {
        position: absolute;
        font-size: 2.5em;
        opacity: 0;
        animation: scatterAppear 1s ease forwards;
      }

      @keyframes scatterAppear {
        from {
          opacity: 0;
          transform: scale(0) rotate(-180deg);
        }
        to {
          opacity: 0.6;
          transform: scale(1) rotate(0deg);
        }
      }

      /* Responsive Design */
      @media (max-width: 1400px) {
        .card-3d {
          width: 90vw;
          height: 80vh;
        }
      }

      @media (max-width: 768px) {
        .envelope-3d {
          width: 300px;
          height: 210px;
        }

        .card-3d {
          width: 95vw;
          height: 85vh;
          flex-direction: column;
        }

        .card-page {
          width: 100%;
          height: 50%;
          border: 3px solid #e8dcc8;
        }

        .card-left {
          border-bottom: 2px solid #e8dcc8;
          border-right: none;
          border-bottom-left-radius: 0;
          border-top-right-radius: 12px;
        }

        .card-right {
          border-top: 2px solid #e8dcc8;
          border-left: none;
          border-top-right-radius: 0;
          border-bottom-left-radius: 12px;
        }

        .card-spine {
          width: 100%;
          height: 8px;
          top: 50%;
          left: 0;
          transform: translateY(-50%);
        }

        .card-photo-frame {
          width: 200px;
          height: 200px;
          margin: 20px 0;
        }
      }

      /* Music Player */
      .music-player {
        margin-top: 50px;
        padding: 35px;
        background: #faf7f2;
        border-radius: 15px;
        border: 3px solid #e8dcc8;
        box-shadow: 0 6px 20px rgba(139, 111, 92, 0.15);
      }

      .music-player p {
        color: #6b5e52;
      }

      audio {
        width: 100%;
        max-width: 500px;
        margin-top: 20px;
        border-radius: 8px;
      }

      @media (max-width: 768px) {
        .timeline-card {
          flex-direction: column !important;
          padding: 30px 20px;
        }

        .card-photo {
          width: 100%;
          max-width: 300px;
        }

        h1 {
          font-size: 2em;
        }

        .birthday-title {
          font-size: 2.5em;
        }

        .polaroid-container {
          height: 900px;
        }

        .center-photo {
          width: 250px;
          height: 250px;
        }

        .polaroid {
          width: 140px;
        }

        .polaroid-photo {
          height: 130px;
        }

        .about-her-grid {
          grid-template-columns: 1fr;
        }
      }
      .heart-beat {
        position: absolute;
        font-size: 4em;
        animation: heartPulse 1.5s ease-in-out infinite;
        opacity: 0.3;
      }

      .heart-beat::before {
        content: "üíó";
      }

      @keyframes heartPulse {
        0%,
        100% {
          transform: scale(1);
          opacity: 0.3;
        }
        50% {
          transform: scale(1.2);
          opacity: 0.6;
        }
      }

      /* Progress Indicator */
      .progress-bar {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        background: rgba(232, 220, 200, 0.3);
        height: 5px;
        z-index: 10000;
        overflow: hidden;
      }

      .progress-fill {
        height: 100%;
        background: linear-gradient(90deg, #d4a5a5, #c9b8a8, #e5b8b8);
        box-shadow: 0 0 5px rgba(212, 165, 165, 0.4);
        transition: width 0.5s ease;
        width: 0%;
      }

      .progress-text {
        position: fixed;
        top: 15px;
        left: 50%;
        transform: translateX(-50%);
        z-index: 10001;
        background: rgba(255, 248, 240, 0.95);
        color: #8b6f5c;
        border: 2px solid #e8dcc8;
        padding: 8px 20px;
        border-radius: 20px;
        font-size: 0.9em;
        backdrop-filter: blur(10px);
        opacity: 0;
        transition: opacity 0.3s ease;
      }

      .progress-text.show {
        opacity: 1;
      }

      .photo-decoration {
        position: absolute;
        font-size: 2em;
        top: -15px;
        right: -15px;
        animation: spinSlow 4s linear infinite;
        filter: drop-shadow(0 2px 5px rgba(255, 181, 232, 0.4));
      }

      @keyframes spinSlow {
        from {
          transform: rotate(0deg);
        }
        to {
          transform: rotate(360deg);
        }
      }

      .floating-heart {
        position: absolute;
        font-size: 2.5em;
        bottom: -20px;
        left: 50%;
        transform: translateX(-50%);
        animation: heartFloat 2s ease-in-out infinite;
        filter: drop-shadow(0 0 10px rgba(255, 105, 180, 0.5));
      }

      @keyframes heartFloat {
        0%,
        100% {
          transform: translateX(-50%) translateY(0) scale(1);
        }
        50% {
          transform: translateX(-50%) translateY(-15px) scale(1.15);
        }
      }

      /* Cute tape decoration on photos */
      .magazine-photo::after {
        content: "";
        position: absolute;
        top: -8px;
        left: 50%;
        transform: translateX(-50%);
        width: 80px;
        height: 25px;
        background: rgba(255, 245, 225, 0.6);
        border-left: 2px dashed rgba(255, 181, 232, 0.3);
        border-right: 2px dashed rgba(255, 181, 232, 0.3);
        backdrop-filter: blur(2px);
      }

      #page4 .magazine-row {
        opacity: 0;
        transform: translateY(30px);
        animation: gentleSlideIn 0.8s ease-out forwards;
      }

      #page4 .magazine-row:nth-child(1) {
        animation-delay: 0.1s;
      }
      #page4 .magazine-row:nth-child(2) {
        animation-delay: 0.3s;
      }
      #page4 .magazine-row:nth-child(3) {
        animation-delay: 0.5s;
      }

      @keyframes gentleSlideIn {
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      #page4.active .magazine-row {
        animation-play-state: running;
      }

      /* Transitions */
      /* Base Transition Overlay */
      .transition-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(255, 248, 240, 0.98);
        z-index: 9999;
        display: none;
        justify-content: center;
        align-items: center;
        flex-direction: column;
      }

      .transition-overlay.active {
        display: flex;
        animation: fadeIn 0.3s ease;
      }

      .transition-content {
        text-align: center;
      }

      /* 1. Vintage Train Animation */
      .train-container {
        position: relative;
        width: 300px;
        height: 200px;
      }

      .train {
        font-size: 5em;
        animation: trainMove 2s ease-in-out;
      }

      @keyframes trainMove {
        0% {
          transform: translateX(-150vw);
        }
        50% {
          transform: translateX(0);
        }
        100% {
          transform: translateX(150vw);
        }
      }

      .train-smoke {
        position: absolute;
        font-size: 2em;
        opacity: 0;
        animation: smokeRise 1s ease-out infinite;
      }

      .train-smoke:nth-child(1) {
        animation-delay: 0s;
        left: 20%;
      }
      .train-smoke:nth-child(2) {
        animation-delay: 0.3s;
        left: 40%;
      }
      .train-smoke:nth-child(3) {
        animation-delay: 0.6s;
        left: 60%;
      }

      @keyframes smokeRise {
        0% {
          bottom: 50px;
          opacity: 0.7;
          transform: scale(0.5);
        }
        100% {
          bottom: 150px;
          opacity: 0;
          transform: scale(1.5);
        }
      }

      .train-text {
        margin-top: 40px;
        font-size: 1.5em;
        color: #8b6f5c;
        font-family: "Playfair Display", serif;
      }

      /* 2. Letter Unsealing Animation */
      .letter-container {
        position: relative;
        width: 250px;
        height: 250px;
      }

      .envelope {
        width: 200px;
        height: 140px;
        background: #f4c2c2;
        border: 3px solid #d4a5a5;
        position: relative;
        margin: 0 auto;
        border-radius: 5px;
      }

      .envelope-flap {
        width: 0;
        height: 0;
        border-left: 100px solid transparent;
        border-right: 100px solid transparent;
        border-top: 70px solid #e5b8b8;
        position: absolute;
        top: 0;
        left: 0;
        transform-origin: top center;
        animation: flapOpen 1.5s ease-in-out forwards;
      }

      @keyframes flapOpen {
        0% {
          transform: rotateX(0deg);
        }
        100% {
          transform: rotateX(180deg);
        }
      }

      .letter {
        width: 160px;
        height: 100px;
        background: #fff8f0;
        border: 2px solid #e8dcc8;
        position: absolute;
        bottom: 20px;
        left: 50%;
        transform: translateX(-50%);
        animation: letterRise 1.5s ease-out 0.5s forwards;
        opacity: 0;
      }

      @keyframes letterRise {
        0% {
          bottom: 20px;
          opacity: 0;
        }
        100% {
          bottom: 80px;
          opacity: 1;
        }
      }

      .letter::before {
        content: "üíå";
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        font-size: 3em;
      }

      /* 3. TV Static Animation */
      .tv-container {
        width: 350px;
        height: 250px;
        background: #4a4238;
        border: 15px solid #8b6f5c;
        border-radius: 20px;
        position: relative;
        box-shadow: inset 0 0 30px rgba(0, 0, 0, 0.5);
      }

      .tv-screen {
        width: 100%;
        height: 100%;
        background: repeating-linear-gradient(
          0deg,
          #000 0px,
          #333 1px,
          #000 2px
        );
        animation: staticNoise 0.1s infinite;
        position: relative;
        overflow: hidden;
      }

      @keyframes staticNoise {
        0% {
          background-position: 0 0;
        }
        100% {
          background-position: 0 10px;
        }
      }

      .tv-screen::after {
        content: "üì∫";
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        font-size: 4em;
        opacity: 0.3;
        animation: tvGlitch 0.5s infinite;
      }

      @keyframes tvGlitch {
        0%,
        100% {
          transform: translate(-50%, -50%);
        }
        25% {
          transform: translate(-48%, -52%);
        }
        75% {
          transform: translate(-52%, -48%);
        }
      }

      /* 4. Film Rewind Animation */
      .film-container {
        width: 300px;
        height: 200px;
        position: relative;
      }

      .film-reel {
        font-size: 6em;
        animation: reelSpin 2s linear infinite;
      }

      @keyframes reelSpin {
        from {
          transform: rotate(0deg);
        }
        to {
          transform: rotate(-360deg);
        }
      }

      .film-strip {
        position: absolute;
        width: 100%;
        height: 20px;
        background: repeating-linear-gradient(
          90deg,
          #8b6f5c 0px,
          #8b6f5c 10px,
          #c9b8a8 10px,
          #c9b8a8 20px
        );
        animation: filmMove 1s linear infinite;
      }

      @keyframes filmMove {
        from {
          background-position: 0 0;
        }
        to {
          background-position: 20px 0;
        }
      }

      /* 5. Book Page Flip Animation */
      /* 5. Book Page Flip Animation - Fixed */
      .book-container {
        width: 400px;
        height: 300px;
        perspective: 1500px;
        position: relative;
      }

      .book {
        width: 100%;
        height: 100%;
        position: relative;
        transform-style: preserve-3d;
        display: flex;
      }

      /* Left page (static) */
      .book-page-left {
        position: absolute;
        width: 50%;
        height: 100%;
        left: 0;
        background: #fff8f0;
        border: 3px solid #8b6f5c;
        border-right: 2px solid #e8dcc8;
        border-top-left-radius: 5px;
        border-bottom-left-radius: 5px;
        box-shadow: inset -10px 0 20px rgba(139, 111, 92, 0.1);
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .book-page-left::before {
        content: "";
        position: absolute;
        width: 90%;
        height: 80%;
        border: 1px solid #e8dcc8;
        border-radius: 3px;
      }

      .book-page-left::after {
        content: "‚úçÔ∏è";
        font-size: 3em;
        position: absolute;
      }

      /* Right page (static background) */
      .book-page-right {
        position: absolute;
        width: 50%;
        height: 100%;
        right: 0;
        background: #fff8f0;
        border: 3px solid #8b6f5c;
        border-left: none;
        border-top-right-radius: 5px;
        border-bottom-right-radius: 5px;
        box-shadow: inset 10px 0 20px rgba(139, 111, 92, 0.1);
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .book-page-right::before {
        content: "";
        position: absolute;
        width: 90%;
        height: 80%;
        border: 1px solid #e8dcc8;
        border-radius: 3px;
      }

      .book-page-right::after {
        content: "üìñ";
        font-size: 3em;
        position: absolute;
      }

      /* Flipping page (animated) */
      .book-page-flip {
        position: absolute;
        width: 50%;
        height: 100%;
        right: 0;
        background: #fff8f0;
        border: 3px solid #8b6f5c;
        border-left: 2px solid #e8dcc8;
        border-top-right-radius: 5px;
        border-bottom-right-radius: 5px;
        transform-origin: left center;
        transform-style: preserve-3d;
        animation: pageFlip 2s ease-in-out infinite;
        box-shadow: -5px 0 15px rgba(139, 111, 92, 0.3);
      }

      /* Back of flipping page */
      .book-page-flip::before {
        content: "";
        position: absolute;
        width: 100%;
        height: 100%;
        background: #faf7f2;
        border: 3px solid #8b6f5c;
        border-right: none;
        border-top-left-radius: 5px;
        border-bottom-left-radius: 5px;
        transform: rotateY(180deg);
        backface-visibility: visible;
        left: -3px;
      }

      /* Content on flipping page */
      .book-page-flip::after {
        content: "üíå";
        font-size: 3em;
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        backface-visibility: hidden;
      }

      @keyframes pageFlip {
        0% {
          transform: rotateY(0deg);
          z-index: 2;
        }
        50% {
          transform: rotateY(-180deg);
          z-index: 2;
        }
        51% {
          z-index: 0;
        }
        100% {
          transform: rotateY(-180deg);
          z-index: 0;
        }
      }

      /* Spine of the book */
      .book-spine {
        position: absolute;
        width: 6px;
        height: 100%;
        left: 50%;
        transform: translateX(-50%);
        background: linear-gradient(to right, #6b5e52, #8b6f5c, #6b5e52);
        z-index: 10;
        box-shadow: 0 0 10px rgba(139, 111, 92, 0.5);
      }

      /* 6. Camera Flash Animation */
      .camera-container {
        width: 300px;
        height: 250px;
      }

      .camera {
        font-size: 8em;
        animation: cameraShake 0.5s ease-in-out 3;
      }

      @keyframes cameraShake {
        0%,
        100% {
          transform: translateY(0);
        }
        25% {
          transform: translateY(-10px);
        }
        75% {
          transform: translateY(-5px);
        }
      }

      .flash-effect {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: #ffffff;
        opacity: 0;
        animation: flash 0.3s ease-out 0.5s, flash 0.3s ease-out 1.2s,
          flash 0.3s ease-out 1.8s;
        pointer-events: none;
      }

      @keyframes flash {
        0%,
        100% {
          opacity: 0;
        }
        50% {
          opacity: 0.9;
        }
      }

      /* 7. Birthday Candles Animation */
      .candles-container {
        width: 300px;
        height: 200px;
        display: flex;
        justify-content: center;
        align-items: flex-end;
        gap: 15px;
      }

      .candle {
        width: 30px;
        height: 100px;
        background: linear-gradient(to bottom, #f4c2c2, #d4a5a5);
        border-radius: 5px;
        position: relative;
        animation: candleGrow 0.5s ease-out forwards;
        transform: scaleY(0);
        transform-origin: bottom;
      }

      .candle:nth-child(1) {
        animation-delay: 0s;
      }
      .candle:nth-child(2) {
        animation-delay: 0.2s;
      }
      .candle:nth-child(3) {
        animation-delay: 0.4s;
      }
      .candle:nth-child(4) {
        animation-delay: 0.6s;
      }
      .candle:nth-child(5) {
        animation-delay: 0.8s;
      }

      @keyframes candleGrow {
        to {
          transform: scaleY(1);
        }
      }

      .flame {
        position: absolute;
        top: -20px;
        left: 50%;
        transform: translateX(-50%);
        font-size: 1.5em;
        animation: flameFlicker 0.3s ease-in-out infinite;
        opacity: 0;
        animation-delay: inherit;
      }

      .candle:nth-child(1) .flame {
        animation-delay: 0.5s;
        opacity: 1;
      }
      .candle:nth-child(2) .flame {
        animation-delay: 0.7s;
        opacity: 1;
      }
      .candle:nth-child(3) .flame {
        animation-delay: 0.9s;
        opacity: 1;
      }
      .candle:nth-child(4) .flame {
        animation-delay: 1.1s;
        opacity: 1;
      }
      .candle:nth-child(5) .flame {
        animation-delay: 1.3s;
        opacity: 1;
      }

      @keyframes flameFlicker {
        0%,
        100% {
          transform: translateX(-50%) scale(1);
        }
        50% {
          transform: translateX(-50%) scale(1.1) translateY(-3px);
        }
      }

      /* Transition Text */
      .transition-text {
        margin-top: 30px;
        font-size: 1.5em;
        color: #8b6f5c;
        font-family: "Playfair Display", serif;
        animation: fadeInOut 2s ease-in-out infinite;
      }

      @keyframes fadeInOut {
        0%,
        100% {
          opacity: 0.6;
        }
        50% {
          opacity: 1;
        }
      }


      .memories-description {
    padding: 40px 20px;
    background: rgba(255, 255, 255, 0.3);
    border-radius: 20px;
    border: 2px dashed #E8DCC8;
}

.memories-description h3 {
    position: relative;
    display: inline-block;
    left: 50%;
    transform: translateX(-50%);
}

.memories-description h3::before,
.memories-description h3::after {
    content: '~';
    color: #C9B8A8;
    font-size: 0.6em;
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
}

.memories-description h3::before {
    left: -30px;
}

.memories-description h3::after {
    right: -30px;
}
    </style>
  </head>
  <body>
    <!-- Progress Indicator -->
    <div class="progress-bar">
      <div class="progress-fill" id="progressFill"></div>
      <div class="progress-text" id="progressText">Beginning</div>
    </div>
    <!-- Stars Background -->
    <div class="stars" id="starsContainer"></div>

    <!-- Artistic Corner Elements -->
    <div class="artistic-element" style="top: 10%; left: 5%; font-size: 3em">
      üé®
    </div>
    <div
      class="artistic-element"
      style="top: 15%; right: 8%; font-size: 2.5em; animation-delay: 2s"
    >
      ‚ú®
    </div>
    <div
      class="artistic-element"
      style="bottom: 20%; left: 10%; font-size: 2em; animation-delay: 4s"
    >
      üåô
    </div>
    <div
      class="artistic-element"
      style="bottom: 15%; right: 5%; font-size: 2.5em; animation-delay: 6s"
    >
      ‚≠ê
    </div>

    <div class="artistic-element" style="top: 10%; left: 5%; font-size: 3em">
      üå∏
    </div>
    <div
      class="artistic-element"
      style="top: 15%; right: 8%; font-size: 2.5em; animation-delay: 2s"
    >
      ü¶ã
    </div>
    <div
      class="artistic-element"
      style="bottom: 20%; left: 10%; font-size: 2em; animation-delay: 4s"
    >
      ‚òÅÔ∏è
    </div>
    <div
      class="artistic-element"
      style="bottom: 15%; right: 5%; font-size: 2.5em; animation-delay: 6s"
    >
      üåø
    </div>

    <!-- Dynamic Transition Overlay -->
    <div class="transition-overlay" id="transitionOverlay">
      <div class="transition-content" id="transitionContent">
        <!-- Content will be injected by JavaScript -->
      </div>
    </div>
    <!-- Page 1: Welcome -->
    <!-- <div class="page active" id="page1"> -->
    <div class="page active" id="page1">
      <div class="welcome-content">
        <div class="moon"></div>
        <h1>A Journey Through Time</h1>
        <p>
          Sakuuuuuuuu, ready thy jaa, the most unique gift of your lifetime üíïüí´
        </p>
        <button class="btn" onclick="startJourney()">Ae Haloooo...</button>
      </div>
    </div>

    <!-- Page 2: First Meeting + Choice -->
    <div class="page" id="page2">
      <div style="max-width: 1100px; width: 100%">
        <div class="timeline-card">
          <div
            class="card-photo"
            style="
              background-image: url('./images/meet-1.jpeg');
              background-size: cover;
              background-position: center;
            "
          >
            <span
              style="
                position: absolute;
                bottom: 10px;
                background: rgba(255, 248, 240, 0.9);
                padding: 8px 15px;
                border-radius: 5px;
                color: #6b5e52;
              "
              >Our First Meeting</span
            >
          </div>
          <div class="card-content">
            <span class="year-badge">2019 - Where It All Began</span>
            <h2>Best Vacation of my Life</h2>
            <p>
              Who knew k e 7 divas na karane mne mari <b>best friend</b> madvani hti! Always grateful to god k e vacation ma hu aavyo Junagadh ‚≠êüí´
              Yaad che aa photo üòÇ? Tu mne specially madva aavi hti ü•π!! 
            </p>
          </div>
        </div>

        <div class="choice-section">
          <h2 style="color: #c9b8a8; margin-top: 40px">A Defining Moment...</h2>
          <p>
            At this crossroad, a choice was made that would shape everything
            that followed...
          </p>
          <div class="choice-buttons">
            <button class="btn" onclick="acceptFriendship()">
              Kya mujhse dosti kroge? ‚ú®
            </button>
            <button class="btn reject" onclick="showReject()">
              Chal Hatt! üôÖ‚Äç‚ôÄÔ∏è
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- Reject Scene (Hidden by default) -->
    <div class="page" id="rejectPage" style="display: none">
      <div class="reject-scene">
        <h2 style="color: #ef4444; font-size: 2.5em">The Sad Timeline üò¢</h2>
        <div class="sad-image">
          <span>ü•±</span>
        </div>
        <p style="font-size: 1.3em">
          Tari pase option nathi, huh! ü•± You are stuck with me for life! üòÅ
        </p>
        <button class="btn" onclick="returnToReal()">
          Return to the Real Story
        </button>
      </div>
    </div>

    <!-- Page 3: Growing Friendship -->
    <div class="page active" id="page3">
      <div style="max-width: 1100px; width: 100%">
        <h2
          style="
            text-align: center;
            color: #c9b8a8;
            font-size: 2.5em;
            margin-bottom: 40px;
          "
        >
          Our Journey Together
        </h2>

        <div class="timeline-card" data-delay="0">
          <div
            class="card-photo"
            style="
              background-image: url('./images/cute.jpeg');
              background-size: cover;
              background-position: center;
            "
          >
            <span
              style="
                position: absolute;
                bottom: 10px;
                background: rgba(255, 248, 240, 0.9);
                padding: 8px 15px;
                border-radius: 5px;
                color: #6b5e52;
              "
              >Daily conversations</span
            >
          </div>
          <div class="card-content">
            <span class="year-badge">Every Single Day</span>
            <h2>Always There</h2>
            <p>
              Through messages and calls, through laughter and tears, through
              every high and every low - we are there for each other. Aadat padi gai che yarrr tari üòÇü•π! 
            </p>
          </div>
        </div>

        <div class="timeline-card reverse" data-delay="200">
          <div
            class="card-photo"
            style="
              background-image: url('./images/ghibli.jpeg');
              background-size: cover;
              background-position: center;
            "
          >
            <span
              style="
                position: absolute;
                bottom: 10px;
                background: rgba(255, 248, 240, 0.9);
                padding: 8px 15px;
                border-radius: 5px;
                color: #6b5e52;
              "
              >Day we met</span
            >
          </div>
          <div class="card-content">
            <span class="year-badge">Dream Comes True</span>
            <h2>The Day We Met</h2>
            <p>
              If someone asks me about best days of my life, ema thi aa ek che mara mate :) 
              E divse tari smile... Bhai bhai üòÇ Maru aavanu successful htu, literally! Ssly, one of the best days of my life!
            </p>
          </div>
        </div>

        <div class="timeline-card" data-delay="400">
          <div
            class="card-photo"
            style="
              background-image: url('./images/rakhi.jpeg');
              background-size: cover;
              background-position: center;
            "
          >
            <span
              style="
                position: absolute;
                bottom: 10px;
                background: rgba(255, 248, 240, 0.9);
                padding: 8px 15px;
                border-radius: 5px;
                color: #6b5e52;
              "
              >Best gift I got</span
            >
          </div>
          <div class="card-content">
            <span class="year-badge">Finally after 5 years</span>
            <h2>Day she sent Rakhi üå∏</h2>
            <p>
              You are absolutely a perfect idiot for me! Koiye nai kryu aavu mara bday pr mara mate üò≠ Atli mast gift! Bday + Rakhi, sone pr suhaga htu literally üí´üíï
            </p>
          </div>
        </div>

        <!-- Timeline 4 -->
        <div class="timeline-card reverse" data-delay="400">
          <div
            class="card-photo"
            style="
              background-image: url('./images/vc-2.jpeg');
              background-size: cover;
              background-position: center;
            "
          >
            <span
              style="
                position: absolute;
                bottom: 10px;
                background: rgba(255, 248, 240, 0.9);
                padding: 8px 15px;
                border-radius: 5px;
                color: #6b5e52;
              "
              >Unending VCs</span
            >
          </div>
          <div class="card-content">
            <span class="year-badge">Bond for life</span>
            <h2>More Memories to Make</h2>
            <p>
              Te kahyu htu k <i> hu to nai chodi ne jav tne bhale mara vado kese mne toi üòÇ</i>, fact! Thing is mne halse pn nai tara vagr üòÇüòÖ
            </p>
          </div>
        </div>

        <div class="choice-section">
          <button class="btn" onclick="nextPage('page4', 'book')">
            Discover More About S
          </button>
        </div>
      </div>
    </div>

    <!-- Page 4: About Her - Magazine Layout -->
    <div class="page" id="page4">
      <div class="about-her-content" style="max-width: 1400px; width: 100%">
        <h2
          style="
            text-align: center;
            color: #c9b8a8;
            font-size: 2.5em;
            margin-bottom: 60px;
          "
        >
          The Many Sides of S ‚ú®
        </h2>

        <div class="magazine-layout">
          <!-- Row 1: Large photo left, 2 traits right -->
          <div class="magazine-row">
            <div class="magazine-photo large">
              <img
                src="./images/saku-7.jpeg"
                alt="S's Beautiful Smile"
                style="
                  width: 100%;
                  height: 100%;
                  object-fit: cover;
                  border-radius: 8px;
                "
              />
              <div class="photo-decoration">‚ú®</div>
            </div>
            <div class="traits-column">
              <div
                class="trait-card compact"
                data-aos="fade-left"
                data-aos-delay="100"
              >
                <div class="trait-icon">üåü</div>
                <h3>Cute</h3>
                <p>
                  Koi key na key, cute to che tu. Hasti reh bhai tu, please please always maintain that smile! üôè
                </p>
              </div>
              <div
                class="trait-card compact"
                data-aos="fade-left"
                data-aos-delay="200"
              >
                <div class="trait-icon">üß†</div>
                <h3>Mature</h3>
                <p>
                  One of the most mature people I have seen in my life! 
                </p>
              </div>
            </div>
          </div>

          <!-- Row 2: 2 traits left, medium photo right -->
          <div class="magazine-row reverse">
                        <div class="magazine-photo large">
              <img
                src="./images/saku-2.jpeg"
                alt="S's Beautiful Smile"
                style="
                  width: 100%;
                  height: 100%;
                  object-fit: cover;
                  border-radius: 8px;
                "
              />
              <div class="photo-decoration">‚ú®</div>
            </div>
            <div class="traits-column">
              <div
                class="trait-card compact"
                data-aos="fade-right"
                data-aos-delay="100"
              >
                <div class="trait-icon">üíñ</div>
                <h3>Kind-Hearted</h3>
                <p>
                  Atlu nai vicharvanu badha mate üò≠. Atla sara loko dukhi thy, kbr tne?
                </p>
              </div>
              <div
                class="trait-card compact"
                data-aos="fade-right"
                data-aos-delay="200"
              >
                <div class="trait-icon">üê∂</div>
                <h3>Natkhat</h3>
                <p>
                  Kyay nakhiyave mne üòÇ, mari pin mari mari ne!
                </p>
              </div>
            </div>
          </div>

          <!-- Row 3: Center large photo with traits on sides -->
          <div class="magazine-row centered">
            <div class="trait-card compact side-trait" data-aos="fade-right">
              <div class="trait-icon">üí™</div>
              <h3>Strong and Calm</h3>
              <p>
                You face challenges with incredible strength and grace, always
                emerging stronger than before. Na thy to aavi javanu hone üòÇ
              </p>
            </div>

            <div class="magazine-photo featured">
              <img
                src="./images/saku-6.jpeg"
                alt="S's Beautiful Smile"
                style="
                  width: 100%;
                  height: 100%;
                  object-fit: cover;
                  border-radius: 8px;
                "
              />
              <div class="photo-decoration">‚ú®</div>
            </div>

            <div class="trait-card compact side-trait" data-aos="fade-left">
              <div class="trait-icon">‚ú®</div>
              <h3>Unique</h3>
              <p>
                Sagar said in Love ni Bhavai - <i>Bhagwan ne thyu hse k normal to bov banaya, kaik unique piece banavu üòÇ, tyare tne banavi hse</i>
              </p>
            </div>
          </div>
        </div>

        <div class="choice-section" style="margin-top: 60px">
          <button class="btn" onclick="nextPage('page5', 'camera')">
            See Our Memories
          </button>
        </div>
      </div>
    </div>
    <!-- Page 5: Memories - Polaroid Scatter -->
    <div class="page" id="page5">
      <div style="max-width: 1100px; width: 100%">
        <h2
          style="
            text-align: center;
            color: #c9b8a8;
            font-size: 2.5em;
            margin-bottom: 40px;
          "
        >
          Her favorite timepass
        </h2>
        <div class="polaroid-container">
<div class="center-photo">
    <img src="./images/doc.jpeg" alt="Dr. S" style="width: 100%; height: 100%; object-fit: cover; border-radius: 4px;">
    <div style="position: absolute; bottom: 20px; left: 0; right: 0; background: linear-gradient(to top, rgba(10, 14, 39, 0.9), transparent); padding: 20px; text-align: center;">
        <p style="margin: 0; color: white; font-size: 1.1em; font-weight: bold;">Dr. Sakshi</p>
        <p style="margin: 5px 0 0 0; color: #FFE5D9; font-size: 0.9em;">On the way to make world healthier ‚ù§Ô∏è</p>
    </div>
</div>

          <!-- Polaroid 1 - Top Left -->
          <div
            class="polaroid"
            style="
              top: 8%;
              left: 15%;
              --initial-rotation: -10deg;
              --final-rotation: -12deg;
            "
          >
            <div class="polaroid-photo">
              <img
                src="./images/pol1.jpeg"
                alt="Memory"
                style="width: 100%; height: 100%; object-fit: cover"
              />
            </div>
            <div class="polaroid-caption">Love Yourself</div>
          </div>

          <!-- Polaroid 2 - Top Right -->
          <div
            class="polaroid"
            style="
              top: 12%;
              right: 12%;
              --initial-rotation: 15deg;
              --final-rotation: 13deg;
            "
          >
            <div class="polaroid-photo">
              <img
                src="./images/pol2.jpeg"
                alt="Memory"
                style="width: 100%; height: 100%; object-fit: cover"
              />
            </div>
            <div class="polaroid-caption">Hi?</div>
          </div>

          <!-- Polaroid 3 - Left Middle -->
          <div
            class="polaroid"
            style="
              top: 45%;
              left: 8%;
              --initial-rotation: -8deg;
              --final-rotation: -10deg;
            "
          >
            <div class="polaroid-photo">
              <img
                src="./images/pol3.jpeg"
                alt="Memory"
                style="width: 100%; height: 100%; object-fit: cover"
              />
            </div>
            <div class="polaroid-caption">Su che aa üòÇ</div>
          </div>

          <!-- Polaroid 4 - Right Middle -->
          <div
            class="polaroid"
            style="
              top: 48%;
              right: 10%;
              --initial-rotation: 10deg;
              --final-rotation: 8deg;
            "
          >
            <div class="polaroid-photo">
              <img
                src="./images/pol4.jpeg"
                alt="Memory"
                style="width: 100%; height: 100%; object-fit: cover"
              />
            </div>
            <div class="polaroid-caption">You are Panda üêº</div>
          </div>

          <!-- Polaroid 5 - Bottom Left -->
          <div
            class="polaroid"
            style="
              bottom: 15%;
              left: 18%;
              --initial-rotation: -5deg;
              --final-rotation: -7deg;
            "
          >
            <div class="polaroid-photo">
              <img
                src="./images/pol5.jpeg"
                alt="Memory"
                style="width: 100%; height: 100%; object-fit: cover"
              />
            </div>
            <div class="polaroid-caption">Bhukkad</div>
          </div>

          <!-- Polaroid 6 - Bottom Right -->
          <div
            class="polaroid"
            style="
              bottom: 12%;
              right: 15%;
              --initial-rotation: 8deg;
              --final-rotation: 10deg;
            "
          >
            <div class="polaroid-photo">
              <img
                src="./images/pol6.jpeg"
                alt="Memory"
                style="width: 100%; height: 100%; object-fit: cover"
              />
            </div>
            <div class="polaroid-caption">Actual ma nanu canvas che bhai üòÇ</div>
          </div>

        </div>
                  <div class="memories-description">
    <h3 style="color: #D4A5A5; font-family: 'Playfair Display', serif; font-size: 2em; text-align: center; margin-bottom: 25px;">
        A Gallery of Beautiful Art ‚ú®
    </h3>
    <p style="max-width: 800px; margin: 0 auto; font-size: 1.15em; line-height: 1.9; color: #6B5E52; text-align: center;">
        <i>Kon kehta hai ki doctor kalakaar nahi ho sakta?<br/>
        Woh jism ko nahi, zindagi ko roop deta hai ‚Äî kabhi brush se, kabhi stethoscope se. üé®ü©∫</i>

        Second line obviously pote nai lakhi üòÇ, but sari che nai? Kalakar che tu brooo, keep this going! Future ma doctor bani ja, pachi clinic ma drawings lagadje tara, loko ni therapy free ma thy jse üòÇ

        
    </p>
</div>
        <div class="choice-section">
          <button class="btn" onclick="nextPage('page6', 'candles')">
            A Special Message
          </button>
        </div>
      </div>
    </div>

    <!-- Page 6: Birthday Card -->
    <div class="page" id="page6">
      <div class="birthday-card-scene">
        <!-- Envelope (Initial State) -->
        <div class="envelope-wrapper" id="envelopeWrapper">
          <div class="envelope-3d">
            <!-- Envelope Body -->
            <div class="envelope-body"></div>

            <!-- Envelope Flap -->
            <div class="envelope-flap" id="envelopeFlap">
              <div class="wax-seal">üå∏</div>
            </div>

            <!-- "To" Label -->
            <div class="envelope-label">
              <p style="margin: 0; font-size: 1.2em; color: #8b6f5c">
                To: Saku üíù
              </p>
              <p
                style="
                  margin: 5px 0 0 0;
                  font-size: 0.9em;
                  color: #c9b8a8;
                  font-style: italic;
                "
              >
                Open me!
              </p>
            </div>

            <!-- Decorative Stamps -->
            <div class="stamp">‚ú®</div>
            <div class="postmark">
              <div style="font-size: 0.7em">Special</div>
              <div style="font-size: 0.6em">Delivery</div>
            </div>
          </div>

          <!-- Click Prompt -->
          <div class="click-prompt" id="clickPrompt">
            <span class="prompt-text">Click to open! üëÜ</span>
          </div>
        </div>

        <!-- Birthday Card (Hidden Initially) -->
        <div class="birthday-card-container" id="birthdayCard">
          <div class="card-3d">
            <!-- Left Page -->
            <div class="card-page card-left">
              <div class="card-decoration top-left-corner">üå∏</div>
              <div class="card-decoration top-right-corner">ü¶ã</div>

              <div class="card-photo-frame">
                <div class="photo-placeholder">
    <img src="./images/teddy.jpeg" alt="S in Doctor Outfit" style="display: block;">
</div>
                <div class="photo-tape"></div>
              </div>

              <div class="left-message">
                <h3
                  style="
                    color: #d4a5a5;
                    font-size: 1.8em;
                    margin-bottom: 15px;
                    font-family: 'Playfair Display', serif;
                  "
                >
                  You're Amazing!
                </h3>
                <div class="doodle-hearts">
                  <span class="floating-doodle" style="animation-delay: 0s"
                    >üíï</span
                  >
                  <span class="floating-doodle" style="animation-delay: 0.5s"
                    >‚ú®</span
                  >
                  <span class="floating-doodle" style="animation-delay: 1s"
                    >üåü</span
                  >
                </div>
              </div>

              <div class="card-decoration bottom-left-corner">üåø</div>
              <div class="card-decoration bottom-right-corner">‚≠ê</div>
            </div>

            <!-- Center Fold/Spine -->
            <div class="card-spine"></div>

            <!-- Right Page -->
            <div class="card-page card-right">
              <div class="card-decoration top-left-corner">‚ú®</div>
              <div class="card-decoration top-right-corner">üå∏</div>

              <div class="card-content-scroll">
                <h2
                  style="
                    color: #d4a5a5;
                    font-size: 2.5em;
                    margin-bottom: 20px;
                    text-align: center;
                    font-family: 'Playfair Display', serif;
                  "
                >
                  Happy Birthday, Saku! üéÇ
                </h2>

                <div class="message-text">
                  <p>
                    Su bro üòÇ kvi lagi gift? Hopefully gami hse tne! Anyways, happiest birthday bro! Ik tne nai gamta birthdays, but as I said, hu to chuj tne special feel krava üòé
                  </p>

                  <p>
                    Thank you sooo much, badha j mate ;) Listening to my every shittiest and annoying vaato, je maybe koi mari sathe krse to hu pn chidai jaisüòÇ. Besttt che yar tu, kbr tne?
                  </p>

                  <p>
                    Stay happiest broo, ik koi pn problem aavse to tu fodi lais tari jate. Ik you will do the best in your career.. ne stay away from shitty people, bija loko mate potani mental health nai bagadvani üòí
                  </p>
                </div>

                <div class="signature">
                  <p style="margin: 0">With all my love and appreciation,</p>
                  <strong>Usi 
                  <img src="./images/monkey.png" alt="üêµ" style="width: 35px; height: 35px; vertical-align: middle; margin-left: 8px; animation: spin 3s linear infinite;">
                  <div class="signature-doodles">
                    </strong>
                    <span>üíù</span>
                    <span>ü¶ã</span>
                    <span>‚ú®</span>
                  </div>
                </div>
                <!-- Music Player (Inside Card) -->
                <div class="music-player" id="musicPlayer">
                  <p style="margin-bottom: 15px">
                    Idk your fav song, e mne realise thyu aa banavto hto tyareüòÇ so aa vadu tne gme che e kbr mne etle rakhyu che.. enjoyyyy your day! Happiest b'day:)
                  </p>
                  <audio id="birthdayAudio" controls loop>
                    <source
                      src="https://pagalnew.com/128-downloads/50762"
                      type="audio/mpeg"
                    />
                    Your browser does not support the audio element.
                  </audio>
                </div>
              </div>

              <div class="card-decoration bottom-left-corner">üéÄ</div>
              <div class="card-decoration bottom-right-corner">üíñ</div>
            </div>
          </div>
        </div>

        <!-- Scattered Doodles (Appear after opening) -->
        <div class="scattered-doodles" id="scatteredDoodles">
          <span
            class="scatter-item"
            style="top: 10%; left: 15%; animation-delay: 0s"
            >üå∏</span
          >
          <span
            class="scatter-item"
            style="top: 20%; right: 20%; animation-delay: 0.2s"
            >ü¶ã</span
          >
          <span
            class="scatter-item"
            style="bottom: 30%; left: 10%; animation-delay: 0.4s"
            >‚ú®</span
          >
          <span
            class="scatter-item"
            style="bottom: 20%; right: 15%; animation-delay: 0.6s"
            >üíï</span
          >
          <span
            class="scatter-item"
            style="top: 50%; left: 8%; animation-delay: 0.8s"
            >üåø</span
          >
          <span
            class="scatter-item"
            style="top: 40%; right: 12%; animation-delay: 1s"
            >‚≠ê</span
          >
        </div>
      </div>
    </div>
    <script>
      const pages = document.querySelectorAll(".page");
      let currentPageIndex = 0;

      function createStars(count) {
        const container = document.getElementById("starsContainer");
        const doodles = ["‚òÅÔ∏è", "‚ú®", "üå∏", "ü¶ã", "üçÉ", "üí≠", "‚≠ê", "üåø", "üïäÔ∏è"];

        for (let i = 0; i < count; i++) {
          let star = document.createElement("div");
          star.className = "star";
          star.innerHTML = doodles[Math.floor(Math.random() * doodles.length)];
          star.style.top = Math.random() * 100 + "%";
          star.style.left = Math.random() * 100 + "%";
          star.style.animationDelay = Math.random() * 5 + "s";
          star.style.fontSize = Math.random() * 1 + 0.8 + "em";
          container.appendChild(star);
        }
      }
      createStars(40); // Reduced count for cleaner look

      // Handle page transitions
      function showPage(index, direction = "right") {
        const previousPage = pages[currentPageIndex];

        if (previousPage) {
          previousPage.classList.remove("active");
          previousPage.classList.add(
            direction === "right" ? "exit-left" : "exit-right"
          );

          setTimeout(() => {
            previousPage.style.display = "none";
            previousPage.classList.remove("exit-left", "exit-right");
          }, 800);
        }

        currentPageIndex = index;
        updateProgress();
        const currentPage = pages[currentPageIndex];

        if (currentPage) {
          // Reset any previous states
          currentPage.style.display = "flex";
          currentPage.classList.remove("exit-left", "exit-right");

          // Small delay before adding active class for smooth transition
          setTimeout(() => {
            currentPage.classList.add("active");
            window.scrollTo({ top: 0, behavior: "smooth" });

            // Trigger specific page animations after page is visible
            setTimeout(() => {
              if (currentPage.id === "page3" || currentPage.id === "page2") {
                animateTimelineCards();
              }
              if (currentPage.id === "page5") {
                animatePolaroids();
              }
            }, 100); // Small delay to ensure page is rendered
          }, 50);
        }
      }
      function startJourney() {
        showTransition("train", () => {
          showPage(1, "right"); // Page 2 is index 1
        });
      }

      // Update the nextPage function to accept transition type
      function nextPage(id, transitionType = "book") {
        const targetPageIndex = Array.from(pages).findIndex(
          (page) => page.id === id
        );
        if (targetPageIndex !== -1) {
          showTransition(transitionType, () => {
            showPage(targetPageIndex, "right");
          });
        }
      }

      // New transition system
      function showTransition(type, callback) {
        const overlay = document.getElementById("transitionOverlay");
        const content = document.getElementById("transitionContent");

        // Clear previous content
        content.innerHTML = "";

        // Generate HTML based on type
        let html = "";
        let text = "";

        switch (type) {
          case "train":
            html = `
                <div class="train-container">
                    <div class="train">üöÇ</div>
                    <div class="train-smoke" style="bottom: 50px;">üí®</div>
                    <div class="train-smoke" style="bottom: 50px;">üí®</div>
                    <div class="train-smoke" style="bottom: 50px;">üí®</div>
                </div>
                <div class="transition-text">Starting our journey together...</div>
            `;
            break;

          case "letter":
            html = `
                <div class="letter-container">
                    <div class="envelope">
                        <div class="envelope-flap"></div>
                        <div class="letter"></div>
                    </div>
                </div>
                <div class="transition-text">Opening hearts...</div>
            `;
            break;

          case "static":
            html = `
                <div class="tv-container">
                    <div class="tv-screen"></div>
                </div>
                <div class="transition-text">Wrong timeline detected...</div>
            `;
            break;

          case "rewind":
            html = `
                <div class="film-container">
                    <div class="film-reel">üéûÔ∏è</div>
                    <div class="film-strip" style="top: 40%;"></div>
                    <div class="film-strip" style="top: 50%;"></div>
                    <div class="film-strip" style="top: 60%;"></div>
                </div>
                <div class="transition-text">Rewinding to the right moment...</div>
            `;
            break;

          case "book":
            html = `
                <div class="book-container">
                    <div class="book">
                        <div class="book-page-left"></div>
                        <div class="book-page-right"></div>
                        <div class="book-page-flip"></div>
                        <div class="book-spine"></div>
                    </div>
                </div>
                <div class="transition-text">Turning pages of her story...</div>
            `;
            break;

          case "camera":
            html = `
                <div class="camera-container">
                    <div class="camera">üì∑</div>
                    <div class="flash-effect"></div>
                </div>
                <div class="transition-text">Capturing memories...</div>
            `;
            break;

          case "candles":
            html = `
                <div class="candles-container">
                    <div class="candle"><div class="flame">üïØÔ∏è</div></div>
                    <div class="candle"><div class="flame">üïØÔ∏è</div></div>
                    <div class="candle"><div class="flame">üïØÔ∏è</div></div>
                    <div class="candle"><div class="flame">üïØÔ∏è</div></div>
                    <div class="candle"><div class="flame">üïØÔ∏è</div></div>
                </div>
                <div class="transition-text">Making a wish...</div>
            `;
            break;
        }

        content.innerHTML = html;
        overlay.classList.add("active");

        setTimeout(() => {
          overlay.classList.remove("active");
          if (callback) callback();
        }, 2500); // Slightly longer for better effect
      }

      function acceptFriendship() {
        showTransition("letter", () => {
          showPage(3); // Page 3 is index 2
        });
      }
      function showReject() {
        showTransition("static", () => {
          const currentPage = pages[currentPageIndex];
          if (currentPage) {
            currentPage.classList.add("exit-left");
            currentPage.classList.remove("active");
            setTimeout(() => {
              currentPage.style.display = "none";
              currentPage.classList.remove("exit-left");
            }, 800);
          }

          currentPageIndex = Array.from(pages).findIndex(
            (page) => page.id === "rejectPage"
          );
          const rejectPage = document.getElementById("rejectPage");
          rejectPage.style.display = "flex";
          void rejectPage.offsetWidth;
          rejectPage.classList.add("active");
        });
      }

      function returnToReal() {
        showTransition("rewind", () => {
          // Ensure reject page exits properly
          const rejectPage = document.getElementById("rejectPage");
          rejectPage.classList.add("exit-right");
          rejectPage.classList.remove("active");
          setTimeout(() => {
            rejectPage.style.display = "none";
            rejectPage.classList.remove("exit-right");
          }, 800);

          showPage(1, "left"); // Return to page 2 (index 1) which had the choice
        });
      }

      function animateTimelineCards() {
        const currentPage = pages[currentPageIndex];
        const cards = currentPage.querySelectorAll(".timeline-card");

        cards.forEach((card, index) => {
          // Force reset
          card.classList.remove("show");
          card.style.animation = "none";
          void card.offsetWidth; // Trigger reflow

          setTimeout(() => {
            card.style.animation = `cardSlideIn 0.8s ease-out forwards`;
            card.style.animationDelay = `${index * 0.2}s`;
            card.classList.add("show");
          }, 10);
        });
      }

      function animatePolaroids() {
        const polaroids = document.querySelectorAll("#page5 .polaroid");

        polaroids.forEach((polaroid, index) => {
          // Get original rotation from inline style
          const finalRotation =
            polaroid.style.getPropertyValue("--final-rotation") || "0deg";

          // Complete reset
          polaroid.style.animation = "none";
          polaroid.style.opacity = "0";
          polaroid.style.transform = `scale(0.8) translateY(20px) rotate(${finalRotation})`;

          // Trigger reflow
          void polaroid.offsetWidth;

          // Reapply animation with delay
          setTimeout(() => {
            polaroid.style.animation = `polaroidFadeIn 0.8s ease-out forwards`;
            polaroid.style.animationDelay = `${index * 0.1}s`;
          }, 10);
        });
      }

      // Initialize first page display
      document.addEventListener("DOMContentLoaded", () => {
        pages.forEach((page, index) => {
          if (index === 0) {
            page.style.display = "flex";
            page.classList.add("active");
          } else {
            page.style.display = "none";
          }
        });
      });

      // Update progress indicator
      function updateProgress() {
        const progress = ((currentPageIndex + 1) / pages.length) * 100;
        const progressFill = document.getElementById("progressFill");
        const progressText = document.getElementById("progressText");

        const stages = [
          "Beginning",
          "Our Meeting",
          "The Choice",
          "Our Journey",
          "About S",
          "Memories",
          "Birthday Wishes",
        ];

        if (progressFill && progressText) {
          progressFill.style.width = progress + "%";
          progressText.textContent = stages[currentPageIndex] || "Journey";
          progressText.classList.add("show");

          setTimeout(() => {
            progressText.classList.remove("show");
          }, 2000);
        }
      }

      // Call this in showPage function after setting currentPageIndex
      // Add this line right after: currentPageIndex = index;
      // Initialize progress on page load
      document.addEventListener("DOMContentLoaded", () => {
        updateProgress();
      });

      // ===== PAGE 6: BIRTHDAY CARD INTERACTION =====

      document.addEventListener("DOMContentLoaded", () => {
        const envelopeWrapper = document.getElementById("envelopeWrapper");
        const envelope3d = document.querySelector(".envelope-3d");
        const envelopeFlap = document.getElementById("envelopeFlap");
        const birthdayCard = document.getElementById("birthdayCard");
        const scatteredDoodles = document.getElementById("scatteredDoodles");
        const birthdayAudio = document.getElementById("birthdayAudio");
        const clickPrompt = document.getElementById("clickPrompt");

        let cardOpened = false;

        if (envelope3d) {
          envelope3d.addEventListener("click", openEnvelope);
        }

        function openEnvelope() {
          if (cardOpened) return;
          cardOpened = true;

          // Hide click prompt
          if (clickPrompt) {
            clickPrompt.style.opacity = "0";
          }

          // Step 1: Open envelope flap (1s)
          envelopeFlap.classList.add("open");

          // Step 2: Hide envelope and show card (after 1s)
          setTimeout(() => {
            envelopeWrapper.classList.add("hide");

            setTimeout(() => {
              envelopeWrapper.style.display = "none";
              birthdayCard.classList.add("show");

              // Show scattered doodles
              setTimeout(() => {
                scatteredDoodles.classList.add("show");
              }, 500);

              // Start music (after card is visible)
              setTimeout(() => {
                if (birthdayAudio) {
                  birthdayAudio.play().catch((err) => {
                    console.log("Audio autoplay prevented:", err);
                  });
                }
              }, 1000);
            }, 500);
          }, 1000);
        }
      });

      // DEBUG MODE - Start at Page 3
      // document.addEventListener("DOMContentLoaded", () => {
      //   setTimeout(() => {
      //     showPage(6, "right"); // Page 3 is index 2 (0-indexed)
      //   }, 100);
      // });
    </script>
  </body>
</html>
